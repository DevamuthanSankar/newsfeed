{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport getData from \"../dao/getData\";\nimport setData from \"../dao/setData\";\nimport filterNews from \"../hooks/NewsFilter\";\n\nvar getNews = function getNews() {\n  return _regeneratorRuntime.async(function getNews$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(getData('newsData'));\n\n        case 2:\n          _context.t0 = _context.sent;\n\n          if (!(_context.t0 == null)) {\n            _context.next = 8;\n            break;\n          }\n\n          console.log('not preset in storage');\n          axios.get('https://api.newscatcherapi.com/v2/search?q=Top&page_size=40', {\n            headers: {\n              'x-api-key': 'v5s5a5Qf7yi-zMtuhneJOBNY5cjdJLQU84ShKCYtx1A'\n            }\n          }).then(function (res) {\n            if (res != null) {\n              setData('newsData', filterNews(res.data.articles));\n            }\n          });\n          _context.next = 9;\n          break;\n\n        case 8:\n          console.log('preset in storage');\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default getNews;","map":{"version":3,"sources":["D:/React Native/NewsFeed/src/api/GetNews.js"],"names":["axios","getData","setData","filterNews","getNews","console","log","get","headers","then","res","data","articles"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP;AACA,OAAOC,OAAP;AACA,OAAOC,UAAP;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACHH,OAAO,CAAC,UAAD,CADJ;;AAAA;AAAA;;AAAA,+BACoB,IADpB;AAAA;AAAA;AAAA;;AAERI,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAN,UAAAA,KAAK,CAACO,GAAN,CACI,6DADJ,EACmE;AAC3DC,YAAAA,OAAO,EAAE;AACL,2BAAa;AADR;AADkD,WADnE,EAMEC,IANF,CAMQ,UAAAC,GAAG,EAAI;AACX,gBAAGA,GAAG,IAAI,IAAV,EAAe;AACXR,cAAAA,OAAO,CAAC,UAAD,EAAaC,UAAU,CAACO,GAAG,CAACC,IAAJ,CAASC,QAAV,CAAvB,CAAP;AACH;AACJ,WAVD;AAHQ;AAAA;;AAAA;AAeRP,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AAfQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;AAoBA,eAAeF,OAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nimport getData from '../dao/getData';\r\nimport setData from '../dao/setData';\r\nimport filterNews from \"../hooks/NewsFilter\";\r\n\r\nconst getNews = async () => {\r\n    if(await getData('newsData') == null){\r\n        console.log('not preset in storage');\r\n        axios.get(\r\n            'https://api.newscatcherapi.com/v2/search?q=Top&page_size=40', {\r\n                headers: {\r\n                    'x-api-key': 'v5s5a5Qf7yi-zMtuhneJOBNY5cjdJLQU84ShKCYtx1A'\r\n                }\r\n            }\r\n        ).then( res => {\r\n            if(res != null){\r\n                setData('newsData', filterNews(res.data.articles))\r\n            }\r\n        })\r\n    } else {\r\n        console.log('preset in storage');\r\n    }\r\n    \r\n}\r\n\r\nexport default getNews"]},"metadata":{},"sourceType":"module"}