{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport getNews from \"../api/GetNews\";\nimport HomeTitle from \"../components/HomeTitle\";\nimport NewsCard from \"../components/NewsCard\";\nimport getData from \"../dao/getData\";\nimport color from \"../utils/color\";\nimport refreshNews from \"../api/RefreshNews\";\nimport data from \"../utils/data\";\nimport News from \"./News\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nHomeScreen = function HomeScreen(props) {\n  var news = useSelector(function (state) {\n    return state.news.value;\n  });\n  var refreshed = useSelector(function (state) {\n    return state.refresh.refreshed;\n  });\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (news == null) {\n      getNews();\n    }\n\n    setReloaded(false);\n  }, [reloaded]);\n\n  var handleReload = function handleReload() {\n    setReloaded(true);\n    refreshNews();\n    setReloaded(false);\n  };\n\n  if (news == null) {\n    return _jsx(ScrollView, {\n      style: styles.container,\n      children: _jsx(HomeTitle, {})\n    });\n  } else {\n    return _jsxs(ScrollView, {\n      style: styles.container,\n      onclick: handleReload,\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: reloaded,\n        onRefresh: handleReload\n      }),\n      children: [_jsx(HomeTitle, {}), news.map(function (data, i) {\n        return _jsx(NewsCard, {\n          newsData: data\n        }, i);\n      })]\n    });\n  }\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    height: '100%',\n    width: '100%',\n    backgroundColor: color.background,\n    paddingLeft: 15,\n    paddingRight: 15,\n    paddingBottom: 40\n  }\n});\nexport default HomeScreen;","map":{"version":3,"sources":["D:/React Native/NewsFeed/src/screens/Home.js"],"names":["React","useEffect","useState","getNews","HomeTitle","NewsCard","getData","color","refreshNews","data","News","useDispatch","useSelector","HomeScreen","props","news","state","value","refreshed","refresh","dispatch","setReloaded","reloaded","handleReload","styles","container","map","i","StyleSheet","create","flex","height","width","backgroundColor","background","paddingLeft","paddingRight","paddingBottom"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;AAGA,OAAOC,OAAP;AACA,OAAOC,SAAP;AACA,OAAOC,QAAP;AACA,OAAOC,OAAP;AACA,OAAOC,KAAP;AACA,OAAOC,WAAP;AACA,OAAOC,IAAP;AACA,OAAOC,IAAP;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;;;AAIAC,UAAU,GAAG,oBAACC,KAAD,EAAW;AAGpB,MAAMC,IAAI,GAAGH,WAAW,CAAC,UAACI,KAAD;AAAA,WAAWA,KAAK,CAACD,IAAN,CAAWE,KAAtB;AAAA,GAAD,CAAxB;AACA,MAAMC,SAAS,GAAGN,WAAW,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACG,OAAN,CAAcD,SAAlB;AAAA,GAAN,CAA7B;AACA,MAAME,QAAQ,GAAGT,WAAW,EAA5B;AAIAV,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAGc,IAAI,IAAI,IAAX,EAAgB;AACZZ,MAAAA,OAAO;AACV;;AACDkB,IAAAA,WAAW,CAAC,KAAD,CAAX;AACH,GALQ,EAKN,CAACC,QAAD,CALM,CAAT;;AAOA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvBF,IAAAA,WAAW,CAAC,IAAD,CAAX;AACAb,IAAAA,WAAW;AACXa,IAAAA,WAAW,CAAC,KAAD,CAAX;AACH,GAJD;;AAMA,MAAGN,IAAI,IAAI,IAAX,EAAiB;AACb,WACI,KAAC,UAAD;AAAY,MAAA,KAAK,EAAES,MAAM,CAACC,SAA1B;AAAA,gBACI,KAAC,SAAD;AADJ,MADJ;AAKH,GAND,MAMO;AACH,WACI,MAAC,UAAD;AAAY,MAAA,KAAK,EAAED,MAAM,CAACC,SAA1B;AAAqC,MAAA,OAAO,EAAEF,YAA9C;AACI,MAAA,cAAc,EAAE,KAAC,cAAD;AAAgB,QAAA,UAAU,EAAED,QAA5B;AAAsC,QAAA,SAAS,EAAEC;AAAjD,QADpB;AAAA,iBAEI,KAAC,SAAD,KAFJ,EAIQR,IAAI,CAACW,GAAL,CAAS,UAACjB,IAAD,EAAOkB,CAAP,EAAa;AAClB,eAAO,KAAC,QAAD;AAAU,UAAA,QAAQ,EAAElB;AAApB,WAA+BkB,CAA/B,CAAP;AACH,OAFD,CAJR;AAAA,MADJ;AAWH;AAGJ,CA3CD;;AA6CA,IAAMH,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;AAC7BJ,EAAAA,SAAS,EAAE;AACPK,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,MAAM,EAAE,MAFD;AAGPC,IAAAA,KAAK,EAAE,MAHA;AAIPC,IAAAA,eAAe,EAAE1B,KAAK,CAAC2B,UAJhB;AAKPC,IAAAA,WAAW,EAAE,EALN;AAMPC,IAAAA,YAAY,EAAE,EANP;AAOPC,IAAAA,aAAa,EAAE;AAPR;AADkB,CAAlB,CAAf;AAYA,eAAexB,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { RefreshControl, ScrollView, StyleSheet } from 'react-native';\r\n\r\nimport getNews from '../api/GetNews';\r\nimport HomeTitle from '../components/HomeTitle';\r\nimport NewsCard from '../components/NewsCard';\r\nimport getData from '../dao/getData';\r\nimport color from '../utils/color';\r\nimport refreshNews from '../api/RefreshNews';\r\nimport data from '../utils/data';\r\nimport News from './News';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\n\r\nHomeScreen = (props) => {\r\n\r\n    // const [news, setNews] = useState(null);\r\n    const news = useSelector((state) => state.news.value);\r\n    const refreshed = useSelector(state => state.refresh.refreshed);\r\n    const dispatch = useDispatch();\r\n    // const [reloaded, setReloaded] = useState(false);\r\n    \r\n\r\n    useEffect(() => {\r\n        if(news == null){\r\n            getNews();\r\n        }\r\n        setReloaded(false);\r\n    }, [reloaded])\r\n\r\n    const handleReload = () => {\r\n        setReloaded(true);\r\n        refreshNews();    \r\n        setReloaded(false);  \r\n    }\r\n\r\n    if(news == null) {\r\n        return (\r\n            <ScrollView style={styles.container}>\r\n                <HomeTitle />\r\n            </ScrollView>\r\n        );\r\n    } else {\r\n        return (\r\n            <ScrollView style={styles.container} onclick={handleReload}\r\n                refreshControl={<RefreshControl refreshing={reloaded} onRefresh={handleReload}/>}>\r\n                <HomeTitle />\r\n                {\r\n                    news.map((data, i) => {\r\n                        return <NewsCard newsData={data} key={i} />\r\n                    })\r\n                }\r\n            </ScrollView>\r\n        );\r\n    }\r\n   \r\n    \r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        height: '100%',\r\n        width: '100%',\r\n        backgroundColor: color.background,\r\n        paddingLeft: 15,\r\n        paddingRight: 15,\r\n        paddingBottom: 40\r\n    }\r\n})\r\n\r\nexport default HomeScreen;"]},"metadata":{},"sourceType":"module"}