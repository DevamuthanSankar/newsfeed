{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport setData from \"../dao/setData\";\nimport filterNews from \"../hooks/NewsFilter\";\nimport { setRefresh } from \"../stores/refreshStore\";\n\nvar refreshNews = function refreshNews() {\n  var refresh;\n  return _regeneratorRuntime.async(function refreshNews$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          refresh = useSelector(function (state) {\n            return state.refresh.refreshed;\n          });\n          axios.get('https://api.newscatcherapi.com/v2/search?q=Top&page_size=40', {\n            headers: {\n              'x-api-key': 'v5s5a5Qf7yi-zMtuhneJOBNY5cjdJLQU84ShKCYtx1A'\n            }\n          }).then(function (res) {\n            if (res != null) {\n              console.log('news refreshed');\n              setData('newsData', filterNews(res.data.articles));\n              setRefresh(false);\n            }\n          });\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default refreshNews;","map":{"version":3,"sources":["D:/React Native/NewsFeed/src/api/RefreshNews.js"],"names":["axios","useSelector","setData","filterNews","setRefresh","refreshNews","refresh","state","refreshed","get","headers","then","res","console","log","data","articles"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAOC,OAAP;AACA,OAAOC,UAAP;AACA,SAAQC,UAAR;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAEVC,UAAAA,OAFU,GAEAL,WAAW,CAAC,UAACM,KAAD;AAAA,mBAAWA,KAAK,CAACD,OAAN,CAAcE,SAAzB;AAAA,WAAD,CAFX;AAIhBR,UAAAA,KAAK,CAACS,GAAN,CACI,6DADJ,EACmE;AAC3DC,YAAAA,OAAO,EAAE;AACL,2BAAa;AADR;AADkD,WADnE,EAMEC,IANF,CAMQ,UAAAC,GAAG,EAAI;AACX,gBAAGA,GAAG,IAAI,IAAV,EAAe;AACXC,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAZ,cAAAA,OAAO,CAAC,UAAD,EAAaC,UAAU,CAACS,GAAG,CAACG,IAAJ,CAASC,QAAV,CAAvB,CAAP;AACAZ,cAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,WAZD;;AAJgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;AAmBA,eAAeC,WAAf","sourcesContent":["import axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport setData from '../dao/setData';\r\nimport filterNews from \"../hooks/NewsFilter\";\r\nimport {setRefresh} from '../stores/refreshStore';\r\n\r\nconst refreshNews = async () => {\r\n\r\n    const refresh = useSelector((state) => state.refresh.refreshed)\r\n\r\n    axios.get(\r\n        'https://api.newscatcherapi.com/v2/search?q=Top&page_size=40', {\r\n            headers: {\r\n                'x-api-key': 'v5s5a5Qf7yi-zMtuhneJOBNY5cjdJLQU84ShKCYtx1A'\r\n            }\r\n        }\r\n    ).then( res => {\r\n        if(res != null){\r\n            console.log('news refreshed');\r\n            setData('newsData', filterNews(res.data.articles))\r\n            setRefresh(false);\r\n        }\r\n    })\r\n}\r\n\r\nexport default refreshNews"]},"metadata":{},"sourceType":"module"}